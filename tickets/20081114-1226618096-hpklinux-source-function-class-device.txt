Description: hpklinux-source
Platform: unstable_i386

~ sudo module-assistant a-i hpklinux
dh_clean
make -C drv clean
make[1]: Entering directory `/usr/local/src/modules/hpklinux-module/drv'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
cd .. && /bin/sh ./config.status drv/Makefile
config.status: creating drv/Makefile
make[1]: Leaving directory `/usr/local/src/modules/hpklinux-module/drv'
make[1]: Entering directory `/usr/local/src/modules/hpklinux-module/drv'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
test -z "*~ *.o *.d *.ko .asi* .hpi* asihpi.mod.c" || rm -f *~ *.o *.d *.ko .asi* .hpi* asihpi.mod.c
rm -rf .libs _libs
rm -rf .tmp_versions
rm -f *.lo
make[1]: Leaving directory `/usr/local/src/modules/hpklinux-module/drv'
make -C v4l clean
make[1]: Entering directory `/usr/local/src/modules/hpklinux-module/v4l'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
cd .. && /bin/sh ./config.status v4l/Makefile
config.status: creating v4l/Makefile
make[1]: Leaving directory `/usr/local/src/modules/hpklinux-module/v4l'
make[1]: Entering directory `/usr/local/src/modules/hpklinux-module/v4l'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
test -z "*~ *.o *.ko *.d .hpi* .radio-asihpi* radio-asihpi.mod.c" || rm -f *~ *.o *.ko *.d .hpi* .radio-asihpi* radio-asihpi.mod.c
rm -rf .libs _libs
rm -rf .tmp_versions
rm -f *.lo
make[1]: Leaving directory `/usr/local/src/modules/hpklinux-module/v4l'
/usr/bin/make  -f debian/rules kdist_clean kdist_config binary-modules
make[1]: Entering directory `/usr/local/src/modules/hpklinux-module'
dh_clean
make -C drv clean
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module/drv'
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module'
test -z "*~ *.o *.d *.ko .asi* .hpi* asihpi.mod.c" || rm -f *~ *.o *.d *.ko .asi* .hpi* asihpi.mod.c
rm -rf .libs _libs
rm -rf .tmp_versions
rm -f *.lo
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module/drv'
make -C v4l clean
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module/v4l'
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module'
test -z "*~ *.o *.ko *.d .hpi* .radio-asihpi* radio-asihpi.mod.c" || rm -f *~ *.o *.ko *.d .hpi* .radio-asihpi* radio-asihpi.mod.c
rm -rf .libs _libs
rm -rf .tmp_versions
rm -f *.lo
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module/v4l'
for templ in ; do \
    cp $templ `echo $templ | sed -e 's/_KVERS_/2.6.26-1-686/g'` ; \
  done
for templ in `ls debian/*.modules.in` ; do \
    test -e ${templ%.modules.in}.backup || cp ${templ%.modules.in} ${templ%.modules.in}.backup 2>/dev/null || true; \
    sed -e 's/##KVERS##/2.6.26-1-686/g ;s/#KVERS#/2.6.26-1-686/g ; s/_KVERS_/2.6.26-1-686/g ; s/##KDREV##/2.6.26-10/g ; s/#KDREV#/2.6.26-10/g ; s/_KDREV_/2.6.26-10/g  ' < $templ > ${templ%.modules.in}; \
  done
dh_testdir
dh_testroot
dh_clean -k
./configure --prefix=/usr --with-kernel=/lib/modules/2.6.26-1-686/build --with-build=/lib/modules/2.6.26-1-686/build
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for gcc... gcc-4.1
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc-4.1 accepts -g... yes
checking for gcc-4.1 option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc-4.1... gcc3
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ld used by gcc-4.1... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking how to run the C preprocessor... gcc-4.1 -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 32768
checking command to parse /usr/bin/nm -B output from gcc-4.1 object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if gcc-4.1 supports -fno-rtti -fno-exceptions... no
checking for gcc-4.1 option to produce PIC... -fPIC
checking if gcc-4.1 PIC flag -fPIC works... yes
checking if gcc-4.1 static flag -static works... yes
checking if gcc-4.1 supports -c -o file.o... yes
checking whether the gcc-4.1 linker (/usr/bin/ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
configure: creating libtool
checking for gawk... (cached) gawk
checking whether to compile kernel modules... "yes"
checking for directory with kernel source... /lib/modules/2.6.26-1-686/build
checking for directory with kernel build... /lib/modules/2.6.26-1-686/build
checking for kernel version... 2.6.26-1-686
checking for GCC version... Kernel compiler: gcc 4.1.3 20080623 (prerelease) (Debian 4.1.2-23) Used compiler: gcc-4.1 (GCC) 4.1.3 20080623 (prerelease) (Debian 4.1.2-23)
./configure: line 13181: test: gcc-4: integer expression expected
./configure: line 13186: test: gcc-4: integer expression expected
checking for kernel module symbol versions... "yes"
checking for SMP... "yes"
checking for hotplug firmware loader... "yes"
checking for hotplug firmware loader module... "yes"
Using firmware_class Firmware loader for dsp code
checking for directory to install firmware to... /lib/firmware/asihpi
Will build using ALSA compatibility mode
Will build adapter test utilities
checking target architecture... "distro:linux arch:i486"
checking for rpmbuild... yes
configure: WARNING: Couldn't determine RPM_ROOT -  make rpm probably won't work
checking whether pcap_sendpacket is declared... no
configure: WARNING: Need libpcap-dev with pcap_sendpacket to build fwupdate2416
configure: creating ./config.status
config.status: creating Makefile
config.status: creating hpklinux.spec
config.status: creating slack-desc
config.status: creating make_slack
config.status: creating drv/Makefile.auto
config.status: creating drv/Makefile
config.status: creating v4l/Makefile.auto
config.status: creating v4l/Makefile
config.status: creating lib/Makefile
config.status: creating test/Makefile
config.status: creating firmware/Makefile
config.status: creating alsa/Makefile
config.status: executing depfiles commands
make
make[2]: Entering directory `/usr/local/src/modules/hpklinux-module'
Making all in lib
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module/lib'
make[4]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[4]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module/lib'
Making all in firmware
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module/firmware'
make[4]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[4]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module/firmware'
Making all in test
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module/test'
make[4]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[4]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module/test'
Making all in drv
make[3]: Entering directory `/usr/local/src/modules/hpklinux-module/drv'
make[4]: Entering directory `/usr/local/src/modules/hpklinux-module'
make[4]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make -C /lib/modules/2.6.26-1-686/build SUBDIRS=/usr/src/modules/hpklinux-module/drv O=/lib/modules/2.6.26-1-686/build  modules
make[4]: Entering directory `/usr/local/src/linux-headers-2.6.26-1-686'
  CC [M]  /usr/src/modules/hpklinux-module/drv/hpimod.o
/usr/src/modules/hpklinux-module/drv/hpimod.c: In function 'hpimod_cleanup':
/usr/src/modules/hpklinux-module/drv/hpimod.c:487: error: implicit declaration of function 'class_device_destroy'
/usr/src/modules/hpklinux-module/drv/hpimod.c: In function 'hpimod_init':
/usr/src/modules/hpklinux-module/drv/hpimod.c:564: error: implicit declaration of function 'class_device_create'
make[6]: *** [/usr/src/modules/hpklinux-module/drv/hpimod.o] Error 1
make[5]: *** [_module_/usr/src/modules/hpklinux-module/drv] Error 2
make[4]: *** [sub-make] Error 2
make[4]: Leaving directory `/usr/local/src/linux-headers-2.6.26-1-686'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/usr/local/src/modules/hpklinux-module/drv'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make[1]: *** [binary-modules] Error 2
make[1]: Leaving directory `/usr/local/src/modules/hpklinux-module'
make: *** [kdist_build] Error 2
